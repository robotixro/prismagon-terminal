<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Prismagon Internal Network</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: #000;
      color: #33FF33;
      font-family: 'Courier New', Courier, monospace;
      overflow: hidden;
    }

    .terminal {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }

    input, button {
      background: none;
      border: 1px solid #33FF33;
      color: #33FF33;
      font-family: inherit;
      padding: 5px;
      margin-top: 8px;
      width: 100%;
      box-sizing: border-box;
    }

    button:hover {
      background-color: #003300;
      cursor: pointer;
    }

    .logo {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 20px;
      text-align: center;
    }

    .output {
      margin-top: 20px;
      min-height: 60px;
    }

    #introLogo {
      width: 300px;
      margin: 20vh auto 0;
      display: block;
    }

    .crt-overlay::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background-image: repeating-linear-gradient(
        to bottom,
        rgba(0, 255, 0, 0.05),
        rgba(0, 255, 0, 0.05) 1px,
        transparent 1px,
        transparent 2px
      );
      z-index: 2;
    }

    #commandScreen {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    #commandArea {
      flex: 0 0 auto;
      padding: 10px;
    }

    #commandInput {
      width: 100%;
      box-sizing: border-box;
    }

    #logOutput {
      flex: 1 1 auto;
      overflow-y: auto;
      padding: 10px;
      border-top: 1px solid #33FF33;
    }

    #logOutput div {
      margin: 4px 0;
    }

    #logOutput hr {
      border: none;
      border-top: 1px solid #33FF33;
      margin: 6px 0;
    }

    /* Custom Scrollbar */
    #logOutput::-webkit-scrollbar {
      width: 10px;
    }

    #logOutput::-webkit-scrollbar-track {
      background: #000;
    }

    #logOutput::-webkit-scrollbar-thumb {
      background: #33FF33;
    }

    #closeBtn {
      float: right;
      cursor: pointer;
      color: #33FF33;
    }

    #closeBtn:hover {
      color: red;
    }
  </style>
</head>
<body class="crt-overlay">

  <img id="introLogo" src="prismagon-logo.png" alt="Prismagon Logo">

  <!-- LOGIN TERMINAL -->
  <div id="mainTerminal" style="display: none;">
    <div class="terminal">
      <div class="logo">[PRISMAGON INC. SECURE LOGIN]</div>
      <div class="output" id="output"></div>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <button onclick="login()">LOGIN</button>
      <div class="output" id="response"></div>
    </div>
  </div>

  <!-- COMMAND BAR TERMINAL -->
  <div id="commandScreen" style="display: none;">
    <div id="commandArea">
      <input type="text" id="commandInput" placeholder="Enter command..." onkeydown="handleCommand(event)">
    </div>
    <div id="logOutput" style="display: none;">
      <span id="closeBtn" onclick="closeLogs()">[X]</span>
    </div>
  </div>

  <script>
    const logo = document.getElementById("introLogo");
    const terminal = document.getElementById("mainTerminal");

    let flickerCount = 0;
    function glitchFlicker() {
      if (flickerCount >= 10 + Math.floor(Math.random() * 10)) {
        logo.style.display = "none";
        terminal.style.display = "block";
        startTyping();
        return;
      }
      logo.style.opacity = Math.random() < 0.4 ? "0.1" : "1";
      flickerCount++;
      setTimeout(glitchFlicker, 100 + Math.random() * 150);
    }
    glitchFlicker();

    function startTyping() {
      const lines = [
        "Welcome to the Prismagon Internal Network.",
        "Please enter your credentials to continue."
      ];
      const output = document.getElementById("output");
      let lineIndex = 0;
      let charIndex = 0;

      function typeLine() {
        if (lineIndex < lines.length) {
          if (charIndex < lines[lineIndex].length) {
            output.innerHTML += lines[lineIndex].charAt(charIndex);
            charIndex++;
            setTimeout(typeLine, 50);
          } else {
            output.innerHTML += "<br>";
            lineIndex++;
            charIndex = 0;
            setTimeout(typeLine, 400);
          }
        }
      }
      typeLine();
    }

    function login() {
      const username = document.getElementById('username').value.trim().toLowerCase();
      const password = document.getElementById('password').value.trim();
      const response = document.getElementById('response');

      if (username === "melanie.burton@prismagoninc.com" && password === "K12SaltedWounds") {
        response.innerHTML = "<br>Access Granted. Welcome back, Agent Burton.<br>Loading system...";
        setTimeout(() => {
          document.getElementById("mainTerminal").style.display = "none";
          document.getElementById("commandScreen").style.display = "flex";
        }, 2000);
      } else {
        response.innerHTML = "<br>ACCESS DENIED. INCIDENT LOGGED.";
      }
    }

    function handleCommand(e) {
      if (e.key === "Enter") {
        const input = document.getElementById("commandInput");
        const command = input.value.trim().toLowerCase();
        input.value = "";
        if (command === "textlogs") {
          showLoadingDots(() => {
            showLogs();
          });
        }
      }
    }

    function showLoadingDots(callback) {
      const output = document.getElementById("logOutput");
      output.style.display = "block";
      output.innerHTML = `<span id="closeBtn" onclick="closeLogs()">[X]</span><br><div id="loadingLine">loading archived messages</div>`;

      let dotCount = 0;
      const loadingLine = document.getElementById("loadingLine");

      const dotInterval = setInterval(() => {
        dotCount = (dotCount % 3) + 1;
        loadingLine.textContent = "loading archived messages" + ".".repeat(dotCount);
      }, 400);

      setTimeout(() => {
        clearInterval(dotInterval);
        callback();
      }, 5000);
    }

    function showLogs() {
      const output = document.getElementById("logOutput");
      const messages = [
        "[AGENT.LOCKE]: Why did automated turret YOU were working on start malfuncioning and shooting OUR agent team?",
        "[AGENT.BURTON]: I finished all the wiring, tested it using the set images. It passed the test, then I stood in front of it and it didn't shoot. So I went back out of its view",
        "[AGENT.BURTON]: then agent Parker came in then the turret seemed normal, just looking around but then just started shooting at him.",
        "[AGENT.LOCKE]: Then turned to you and charged the laser before it overheated just before killing you.",
        "[AGENT.BURTON]: Yes",
        "[AGENT.LOCKE]: So tell me,",
        "[AGENT.LOCKE]: HOW DID THAT HAPPEN",
        "[AGENT.BURTON]: I did everything correctly.",
        "[AGENT.BURTON]: It just did it on its own.",
        "[AGENT.LOCKE]: It just did it on its own? so you're saying its alive now?",
        "[AGENT.BURTON]: No. I'm just saying",
        "[AGENT.BURTON]: it did it on its own.",
        "[AGENT.BURTON]: Plus, there is unnecessary Artificial Intelligence in the hardware.",
        "[AGENT.LOCKE]: Well it's probably just for finding targets and knowing who is from prismagon to not shoot.",
        "[AGENT.BURTON]: I managed to get some of the hardware into a USB stick then I plugged it into my PC.",
        "[AGENT.LOCKE]: OK?",
        "[AGENT.BURTON]: It is sending data to an outside source",
        "[AGENT.BURTON]: and receiving data, instructions, code,",
        "[AGENT.BURTON]: the turret is being controlled by voidwell.",
        "[AGENT.LOCKE]: What?",
        "[AGENT.BURTON]: The turret is even sending the camera data to voidwell, they are looking through the turrets. And of course, because the turret uses identification to see if it should shoot or not,",
        "[AGENT.BURTON]: it also has the names and other information of all the agents the turret camera has seen.",
        "[AGENT.LOCKE]: Okay well",
        "[SYSTEM]: Terminal shutdown..."
      ];

      output.innerHTML = `<span id="closeBtn" onclick="closeLogs()">[X]</span><br>`;
      let index = 0;

      function printLine() {
        if (index < messages.length) {
          const line = document.createElement("div");
          line.textContent = messages[index];
          output.appendChild(line);
          output.appendChild(document.createElement("hr"));
          output.scrollTop = output.scrollHeight;
          index++;
          setTimeout(printLine, 300);
        }
      }
      printLine();
    }

    function closeLogs() {
      const output = document.getElementById("logOutput");
      output.innerHTML = `<span id="closeBtn" onclick="closeLogs()">[X]</span><br>`;
      output.style.display = "none";
    }
  </script>
</body>
</html>
